<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MDìƒµ í˜ì´ì§€ UI</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ ì„ íƒ ìŠ¤íƒ€ì¼ */
    #workList li.selected {
      background-color: #e5e7eb; /* Tailwind gray-200 */
      font-weight: 600;
    }

    /* ë„¤ë¹„ê²Œì´ì…˜ í™œì„± ë©”ë‰´ */
    nav ul li.active {
      color: #dc2626; /* Tailwind red-600 */
      border-bottom: 2px solid #dc2626;
    }

    /* ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤ */
    #wishlistPreview {
      user-select: none;
      font-size: 1rem;
      cursor: pointer;
      border: 2px solid #dc2626; /* ì§„í•œ ë¹¨ê°• í…Œë‘ë¦¬ */
      border-radius: 0.375rem;
      padding: 0.75rem;
      margin-top: 0.5rem;
      color: #b91c1c; /* ì§„í•œ ë¹¨ê°• í…ìŠ¤íŠ¸ */
      text-align: center;
      transition: background-color 0.3s ease;
    }
    #wishlistPreview:hover {
      background-color: #fee2e2; /* ì—°í•œ ë¹¨ê°• ë°°ê²½ */
    }

    /* ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ ë°°ê²½ */
    #wishlistModal {
      /* ê¸°ë³¸ hidden ìƒíƒœëŠ” inline styleë¡œ ì²˜ë¦¬ */
    }

    /* ëª¨ë‹¬ ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
    #wishlistContent {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 0.5rem;
    }

    /* ëª¨ë‹¬ ì»¨í…Œì´ë„ˆ */
    #wishlistModal > div {
      /* ì´ë¯¸ Tailwindë¡œ ìŠ¤íƒ€ì¼ë§ë¨ */
    }

    /* ì¢‹ì•„ìš” ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ (í•„ìš”ì‹œ ì¶”ê°€) */
    .like-btn {
      transition: color 0.3s ease;
    }
    .md-item img {
      width: 100%;
      height: 180px; /* ê³ ì • ë†’ì´ */
      object-fit: contain; /* ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€í•˜ë©° ë°•ìŠ¤ ì•ˆì— ë§ì¶¤ */
      border-radius: 0.375rem; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
    }
  </style>

<header class="bg-red-600 text-white p-2 flex items-center justify-between sticky top-0 z-50">
  {/* ë¡œê³  ì˜ì—­: finalmain.htmlë¡œ ì •ìƒ ë§í¬ */}
  <a href="finalmain.html" className="flex items-center space-x-4">
    <img src="https://via.placeholder.com/40" alt="logo" className="w-10 h-10" />
    <h1 className="text-xl font-bold">ticketpage</h1>
  </a>

  {/* ê²€ìƒ‰ì°½ */}
  <div className="flex items-center space-x-2">
    <input
      type="text"
      placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
      className="p-2 rounded w-96"
    />
    <button className="p-2 bg-white text-black rounded">ğŸ”</button>
  </div>

  {/* ë¡œê·¸ì¸ */}
  <div className="flex items-center space-x-4">
    <a href="login.html" className="hover:underline">ë¡œê·¸ì¸</a>
    <img
      src="https://via.placeholder.com/30"
      alt="profile"
      className="w-8 h-8 rounded-full bg-gray-300"
    />
  </div>
</header>

const NavigationBar = () => (
  <nav className="bg-white text-black p-2 border-b sticky top-12 z-50">
    <ul className="flex justify-between text-sm">
      {navItems.map((item, index) => (
        <li
          key={index}
          className={`hover:text-red-600 flex-1 text-center ${
            item === "MDìƒµ" ? "text-red-600 font-bold" : ""
          }`}
        >
          <a href="#" className="block">
            {item}
          </a>
        </li>
      ))}
    </ul>
  </nav>
);


  <!-- ë³¸ë¬¸ -->
  <main class="flex p-6 gap-6 max-w-[1200px] mx-auto">
    <!-- ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ + ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë°•ìŠ¤ -->
    <aside class="w-48 bg-white rounded shadow p-4 flex flex-col" id="workList">
      <ul class="flex-grow overflow-auto mb-4">
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center font-semibold selected">[ì½˜ì„œíŠ¸] ììš°ë¦¼ <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">[ì½˜ì„œíŠ¸] ë¥´ì„¸ë¼í•Œ <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">ì‘í’ˆ ì´ë¦„3 <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">ì‘í’ˆ ì´ë¦„4 <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">ì‘í’ˆ ì´ë¦„5 <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">ì‘í’ˆ ì´ë¦„6 <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">ì‘í’ˆ ì´ë¦„7 <span>&gt;</span></li>
        <li class="py-2 px-3 cursor-pointer hover:bg-gray-100 rounded flex justify-between items-center">ì‘í’ˆ ì´ë¦„8 <span>&gt;</span></li>
      </ul>

      <!-- ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤ -->
      <section id="wishlistPreview" class="cursor-pointer border-2 border-red-600 rounded p-3 mt-2 text-red-700 font-semibold text-center hover:bg-red-100 transition">
        ìœ„ì‹œë¦¬ìŠ¤íŠ¸
      </section>
    </aside>

    <!-- MD ì•„ì´í…œ ê·¸ë¦¬ë“œ -->
    <section class="flex-1 grid grid-cols-4 gap-6" id="mdGrid">
      <!-- JSê°€ 12ê°œ ë™ì ìœ¼ë¡œ ë„£ìŒ -->
    </section>
  </main>

  <!-- ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ -->
  <div id="wishlistModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden">
    <div class="bg-white rounded-lg w-96 max-h-[70vh] p-6 flex flex-col shadow-lg overflow-hidden">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold text-red-600">ë‚´ ìœ„ì‹œë¦¬ìŠ¤íŠ¸</h2>
        <button id="closeWishlist" class="text-red-600 hover:text-red-800 font-bold text-2xl cursor-pointer">&times;</button>
      </div>
      <div id="wishlistContent" class="flex-1 overflow-y-auto space-y-3 text-gray-700 text-sm">
        <p class="italic text-gray-400">ìœ„ì‹œë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>
  </div>

<script type="module">
  // ì‘í’ˆë³„ ìƒí’ˆ ë°ì´í„° ì§ì ‘ ì„ ì–¸ (import ëŒ€ì‹ )
  const worksMD = {
    "[ì½˜ì„œíŠ¸] ììš°ë¦¼": [
      {
        id: "1-1",
        name: "HAPPY 25th JAURIM - POSTER SET (5ì¢…)",
        img: "./images/happy_25th_jaurim_poster_set_5.png"
      },
      {
        id: "1-2",
        name: "HAPPY 25th JAURIM - T-SHIRTS",
        img: "./images/happy_25th_jaurim_tshirts.png"
      },
      {
        id: "1-3",
        name: "HAPPY 25th JAURIM - ê·¹ì„¸ì‚¬ SLOGAN",
        img: "./images/happy_25th_jaurim_slogan.png"
      },
      {
        id: "1-4",
        name: "JAURIM OFFICIAL LIGHT STICK",
        img: "./images/JAURIM_OFFICIAL_LIGHT_STICK.png"
      },
      {
        id: "1-5",
        name: "JAURIM TOWEL SLOGAN",
        img: "./images/JAURIM_TOWEL_SLOGAN.png"
      },
      {
        id: "1-6",
        name: "MERRY_SPOOKY_X-MAS_HOODY",
        img: "./images/MERRY_SPOOKY_X-MAS_HOODY.png"
      },
      {
        id: "1-7",
        name: "MERRY SPOOKY X-MAS - MINI POSTER SET (5ì¢…)",
        img: "./images/merry_spooky_xmas_mini_poster_set_5.png"
      },
      {
        id: "1-8",
        name: "MERRY SPOOKY X-MAS - PHOTO CARD+STICKER SET",
        img: "./images/merry_spooky_xmas_photo_card_sticker_set.png"
      },
      {
        id: "1-9",
        name: "MIDNIGHT EXPRESS - KEYRING",
        img: "./images/midnight_express_keyring.png"
      },
      {
        id: "1-10",
        name: "MIDNIGHT EXPRESS - MINI POSTER + STICKER",
        img: "./images/midnight_express_mini_poster_sticker.png"
      },
      {
        id: "1-11",
        name: "MIDNIGHT EXPRESS - T-SHIRTS (BLACK)",
        img: "./images/midnight_express_tshirts_black.png"
      },
      {
        id: "1-12",
        name: "MIDNIGHT EXPRESS - T-SHIRTS (GREY)",
        img: "./images/midnight_express_tshirts_grey.png"
      }
    ],
    // ë‹¤ë¥¸ ì‘í’ˆ ë°ì´í„° ì¶”ê°€ ê°€ëŠ¥
  };

  // DOM ìš”ì†Œë“¤ ì„ íƒ
  const workListUl = document.querySelector("#workList > ul");
  const mdGrid = document.getElementById("mdGrid");
  const wishlistPreview = document.getElementById("wishlistPreview");
  const wishlistModal = document.getElementById("wishlistModal");
  const closeWishlistBtn = document.getElementById("closeWishlist");
  const wishlistContent = document.getElementById("wishlistContent");

  // ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ì €ì¥ (id ê¸°ì¤€)
  let wishlistItems = [];

  // MD ì•„ì´í…œ ë Œë”ë§ í•¨ìˆ˜
  function renderMDItems(mdItems) {
    mdGrid.innerHTML = "";
    mdItems.forEach(item => {
      const div = document.createElement("div");
      div.className = "bg-white p-3 rounded shadow relative cursor-pointer md-item";
      div.setAttribute("data-id", item.id);

      const isLiked = wishlistItems.some(w => w.id === item.id);

      div.innerHTML = `
        <img src="${item.img}" alt="${item.name}" class="w-full h-28 object-cover rounded" />
        <div class="mt-2 text-sm font-semibold font-bold">${item.name}</div>
        <button class="absolute top-2 right-2 ${isLiked ? 'text-red-600' : 'text-gray-400'} hover:text-red-600 like-btn">
          ${isLiked ? 'â¤ï¸' : 'ğŸ¤'}
        </button>
      `;

      mdGrid.appendChild(div);
    });
    bindLikeButtons();
  }

  // ì¢‹ì•„ìš” ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡
  function bindLikeButtons() {
    document.querySelectorAll(".like-btn").forEach(btn => {
      btn.onclick = e => {
        e.stopPropagation();
        const parent = btn.closest("div.bg-white");
        if (!parent) return;

        const id = parent.getAttribute("data-id");
        const name = parent.querySelector("div.mt-2").textContent;
        const img = parent.querySelector("img").src;

        const existIndex = wishlistItems.findIndex(w => w.id === id);

        if (existIndex === -1) {
          wishlistItems.push({ id, name, img });
          btn.textContent = "â¤ï¸";
          btn.classList.remove("text-gray-400");
          btn.classList.add("text-red-600");
        } else {
          wishlistItems.splice(existIndex, 1);
          btn.textContent = "ğŸ¤";
          btn.classList.remove("text-red-600");
          btn.classList.add("text-gray-400");
        }
      };
    });
  }

  // ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ í´ë¦­ ì‹œ MD ìƒí’ˆ ê°±ì‹ 
  workListUl.querySelectorAll("li").forEach(li => {
    li.addEventListener("click", () => {
      workListUl.querySelectorAll("li").forEach(i => i.classList.remove("selected"));
      li.classList.add("selected");

      let workName = li.textContent.trim();
      if (workName.endsWith(">")) {
        workName = workName.slice(0, -1).trim();
      }
      if (worksMD[workName]) {
        renderMDItems(worksMD[workName]);
      } else {
        renderMDItems([]);
      }
    });
  });

  // ì´ˆê¸° ë¡œë“œ ì‹œ ê¸°ë³¸ ì‘í’ˆ MD ë Œë”ë§
  renderMDItems(worksMD["[ì½˜ì„œíŠ¸] ììš°ë¦¼"] || []);

  // ê²€ìƒ‰ ë²„íŠ¼ ì´ë²¤íŠ¸ (ì˜ˆì‹œ)
  const searchBtn = document.getElementById("searchBtn");
  const searchInput = document.getElementById("searchInput");
  searchBtn.addEventListener("click", () => {
    alert(`ê²€ìƒ‰ì–´: ${searchInput.value}`);
  });

  // ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë°•ìŠ¤ í´ë¦­ì‹œ ëª¨ë‹¬ ì—´ê¸°
  wishlistPreview.addEventListener("click", () => {
    wishlistModal.classList.remove("hidden");
    renderWishlistItems();
  });

  // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
  closeWishlistBtn.addEventListener("click", () => {
    wishlistModal.classList.add("hidden");
  });

  // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
  wishlistModal.addEventListener("click", e => {
    if (e.target === wishlistModal) {
      wishlistModal.classList.add("hidden");
    }
  });

  // ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ ë‚´ ì•„ì´í…œ ë Œë”ë§
  function renderWishlistItems() {
    wishlistContent.innerHTML = "";
    if (wishlistItems.length === 0) {
      wishlistContent.innerHTML = '<p class="italic text-gray-400">ìœ„ì‹œë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.</p>';
      return;
    }
    wishlistItems.forEach(item => {
      const div = document.createElement("div");
      div.className = "flex items-center gap-3 p-2 border-b border-gray-200";
      div.innerHTML = `
        <img src="${item.img}" alt="${item.name}" class="w-12 h-12 rounded object-cover" />
        <div>
          <div class="font-semibold text-red-600">${item.name}</div>
        </div>
        <button class="ml-auto text-red-600 hover:text-red-800 cursor-pointer">ì‚­ì œ</button>
      `;

      div.querySelector("button").addEventListener("click", () => {
        wishlistItems = wishlistItems.filter(w => w.id !== item.id);
        renderWishlistItems();
        updateMDLikeButtons();
      });

      wishlistContent.appendChild(div);
    });
  }

  // ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ë³€ê²½ ì‹œ MD ì•„ì´í…œ ì¢‹ì•„ìš” ìƒíƒœ ì—…ë°ì´íŠ¸
  function updateMDLikeButtons() {
    document.querySelectorAll(".like-btn").forEach(btn => {
      const parent = btn.closest("div.bg-white");
      if (!parent) return;

      const id = parent.getAttribute("data-id");
      const liked = wishlistItems.some(w => w.id === id);

      btn.textContent = liked ? "â¤ï¸" : "ğŸ¤";
      btn.classList.toggle("text-red-600", liked);
      btn.classList.toggle("text-gray-400", !liked);
    });
  }

  // ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ í† ê¸€
  const navList = document.getElementById("navList");
  navList.querySelectorAll("li").forEach(li => {
    li.addEventListener("click", () => {
      navList.querySelectorAll("li").forEach(i => {
        i.classList.remove("active");
        i.classList.remove("text-red-600");
        i.classList.remove("border-b-2");
        i.classList.remove("border-red-600");
        i.classList.add("hover:text-red-600");
      });
      li.classList.add("active");
      li.classList.add("text-red-600");
      li.classList.add("border-b-2");
      li.classList.add("border-red-600");
      li.classList.remove("hover:text-red-600");
    });
  });
</script>

</body>
</html>
